{"ast":null,"code":"import _objectSpread from\"/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Button,Stack,FormHelperText,Input,FormControl,Typography}from\"@mui/material\";import{useForm}from\"react-hook-form\";import{useDispatch}from\"react-redux\";import{createUnit,updateUnit}from\"../actions/units.js\";import HelperText from\"../../../components/HelperText.js\";import{useSelector}from\"react-redux\";import{cleanUp}from\"../actions/units.js\";import ToastAlert from\"../../../components/ToastAlert.js\";import{makeStyles}from\"@mui/styles\";import SpinnerComponent from\"../../../components/Spinner.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{submitButton:{width:\"100%\",background:\"#0EAFAF !important\",color:\"white !important\",fontWeight:\"bold  !important\",margin:\"20px auto 20px  !important\",fontSize:\"1.05rem  !important\",\"&:hover\":{background:\"#078989  !important\",transition:\"400ms all easy-in\"},display:\"flex\",padding:\"8px 20px !important\"}};});var UnitForm=function UnitForm(_ref){var courseId=_ref.courseId,unit=_ref.unit;var classes=useStyles();var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openToast=_useState2[0],setOpenToast=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),alertMessage=_useState4[0],setAlertMessage=_useState4[1];var _useSelector=useSelector(function(state){return state.units;}),message=_useSelector.message,success=_useSelector.success,isCreate=_useSelector.isCreate,isUpdate=_useSelector.isUpdate,loading=_useSelector.loading;var _useForm=useForm({defaultValues:{title:unit?unit===null||unit===void 0?void 0:unit.title:\"\"}}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var onSubmit=function onSubmit(data){var newUnit={courseId:courseId,title:data.title};if(unit){dispatch(updateUnit(_objectSpread(_objectSpread({},newUnit),{},{id:unit.id})));}else{dispatch(createUnit(newUnit));}};useEffect(function(){if(success&&isCreate){setAlertMessage(\"Unit create successfully\");setOpenToast(true);}if(success&&isUpdate){setAlertMessage(\"Unit update successfully\");setOpenToast(true);}dispatch(cleanUp());},[isCreate,isUpdate,success,dispatch]);return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[openToast&&/*#__PURE__*/_jsx(ToastAlert,{openToast:openToast,setOpenToast:setOpenToast,message:alertMessage}),message&&/*#__PURE__*/_jsx(Typography,{sx:{color:\"red\",textAlign:\"center\",mt:\"10px\"},children:message}),loading&&/*#__PURE__*/_jsx(SpinnerComponent,{}),/*#__PURE__*/_jsx(Stack,{sx:{gap:\"20px\",margin:\"20px 0\"},children:/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsx(HelperText,{text:\"Unit title\"}),/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",fullWidth:true,children:[/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({disableUnderline:true,type:\"text\",sx:{m:\"15px 0 !important\",background:\"rgba(176, 186, 195, 0.19) !important\",padding:\"10px 16px !important\",borderRadius:\"5px\"},placeholder:\"Unit\",name:\"title\"},register(\"title\",{required:\"Unit title is required\"})),{},{id:\"outlined-basic unit title\"})),!!errors.title&&/*#__PURE__*/_jsx(FormHelperText,{sx:{mt:\"-10px\"},error:true,id:\"username-error\",children:errors.title&&errors.title.message})]})]})}),/*#__PURE__*/_jsx(Button,{className:classes.submitButton,type:\"submit\",children:\"Save\"})]});};export default UnitForm;","map":{"version":3,"names":["React","useEffect","useState","Button","Stack","FormHelperText","Input","FormControl","Typography","useForm","useDispatch","createUnit","updateUnit","HelperText","useSelector","cleanUp","ToastAlert","makeStyles","SpinnerComponent","useStyles","theme","submitButton","width","background","color","fontWeight","margin","fontSize","transition","display","padding","UnitForm","courseId","unit","classes","dispatch","openToast","setOpenToast","alertMessage","setAlertMessage","state","units","message","success","isCreate","isUpdate","loading","defaultValues","title","register","handleSubmit","errors","formState","onSubmit","data","newUnit","id","textAlign","mt","gap","m","borderRadius","required"],"sources":["/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/src/features/units/components/UnitForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport {\n  Button,\n  Stack,\n  FormHelperText,\n  Input,\n  FormControl,\n  Typography,\n} from \"@mui/material\";\n\nimport { useForm } from \"react-hook-form\";\nimport { useDispatch } from \"react-redux\";\nimport { createUnit, updateUnit } from \"../actions/units.js\";\nimport HelperText from \"../../../components/HelperText.js\";\nimport { useSelector } from \"react-redux\";\nimport { cleanUp } from \"../actions/units.js\";\nimport ToastAlert from \"../../../components/ToastAlert.js\";\nimport { makeStyles } from \"@mui/styles\";\nimport SpinnerComponent from \"../../../components/Spinner.js\";\n\nconst useStyles = makeStyles((theme) => ({\n  submitButton: {\n    width: \"100%\",\n    background: \"#0EAFAF !important\",\n\n    color: \"white !important\",\n    fontWeight: \"bold  !important\",\n    margin: \"20px auto 20px  !important\",\n    fontSize: \"1.05rem  !important\",\n    \"&:hover\": {\n      background: \"#078989  !important\",\n      transition: \"400ms all easy-in\",\n    },\n    display: \"flex\",\n    padding: \"8px 20px !important\",\n  },\n}));\n\nconst UnitForm = ({ courseId, unit }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [openToast, setOpenToast] = useState(false);\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  const { message, success, isCreate, isUpdate, loading } = useSelector(\n    (state) => state.units\n  );\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    defaultValues: {\n      title: unit ? unit?.title : \"\",\n    },\n  });\n\n  const onSubmit = (data) => {\n    const newUnit = {\n      courseId: courseId,\n      title: data.title,\n    };\n    if (unit) {\n      dispatch(updateUnit({ ...newUnit, id: unit.id }));\n    } else {\n      dispatch(createUnit(newUnit));\n    }\n  };\n\n  useEffect(() => {\n    if (success && isCreate) {\n      setAlertMessage(\"Unit create successfully\");\n      setOpenToast(true);\n    }\n    if (success && isUpdate) {\n      setAlertMessage(\"Unit update successfully\");\n      setOpenToast(true);\n    }\n    dispatch(cleanUp());\n  }, [isCreate, isUpdate, success, dispatch]);\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      {openToast && (\n        <ToastAlert\n          openToast={openToast}\n          setOpenToast={setOpenToast}\n          message={alertMessage}\n        />\n      )}\n\n      {message && (\n        <Typography\n          sx={{\n            color: \"red\",\n            textAlign: \"center\",\n            mt: \"10px\",\n          }}\n        >\n          {message}\n        </Typography>\n      )}\n\n      {loading && <SpinnerComponent />}\n      <Stack sx={{ gap: \"20px\", margin: \"20px 0\" }}>\n        <Stack>\n          <HelperText text=\"Unit title\" />\n          <FormControl variant=\"outlined\" fullWidth>\n            <Input\n              disableUnderline\n              type={\"text\"}\n              sx={{\n                m: \"15px 0 !important\",\n                background: \"rgba(176, 186, 195, 0.19) !important\",\n                padding: \"10px 16px !important\",\n                borderRadius: \"5px\",\n              }}\n              placeholder=\"Unit\"\n              name=\"title\"\n              {...register(\"title\", {\n                required: \"Unit title is required\",\n              })}\n              id=\"outlined-basic unit title\"\n            />\n            {!!errors.title && (\n              <FormHelperText sx={{ mt: \"-10px\" }} error id=\"username-error\">\n                {errors.title && errors.title.message}\n              </FormHelperText>\n            )}\n          </FormControl>\n        </Stack>\n      </Stack>\n\n      <Button className={classes.submitButton} type=\"submit\">\n        Save\n      </Button>\n    </form>\n  );\n};\n\nexport default UnitForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}