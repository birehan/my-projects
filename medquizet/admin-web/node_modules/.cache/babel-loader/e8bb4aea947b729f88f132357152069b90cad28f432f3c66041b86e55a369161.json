{"ast":null,"code":"import _slicedToArray from\"/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useMemo}from\"react\";import{makeStyles}from\"@mui/styles\";import{useTheme}from\"@mui/material/styles\";import{useSelector}from\"react-redux\";import UnitList from\"./UnitList\";import CourseFilterDropDown from\"../../../features/courses/components/CourseFilterDropDown\";import AddIcon from\"@mui/icons-material/Add\";import FilterAltIcon from\"@mui/icons-material/FilterAlt\";import{Box,Button,Container,TextField,InputAdornment,Stack,Typography}from\"@mui/material\";import SearchIcon from\"@mui/icons-material/Search\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{mainContainer:{paddingTop:theme.spacing(8),paddingBottom:theme.spacing(8)}};});var UnitsComponent=function UnitsComponent(_ref){var setSelectedComponent=_ref.setSelectedComponent;var _useSelector=useSelector(function(state){return state.units;}),units=_useSelector.units;var _useSelector2=useSelector(function(state){return state.courses;}),courses=_useSelector2.courses;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),filterCourse=_useState2[0],setfilterCourse=_useState2[1];var theme=useTheme();var classes=useStyles();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var handleSearchChange=function handleSearchChange(event){setSearchTerm(event.target.value);};var filteredUnits=useMemo(function(){if(!units||!(units!==null&&units!==void 0&&units.length)||!Array.isArray(units))return[];return units===null||units===void 0?void 0:units.filter(function(unit){var _unit$title,_unit$title$toLowerCa;var searchMatches=unit===null||unit===void 0?void 0:(_unit$title=unit.title)===null||_unit$title===void 0?void 0:(_unit$title$toLowerCa=_unit$title.toLowerCase())===null||_unit$title$toLowerCa===void 0?void 0:_unit$title$toLowerCa.includes(searchTerm===null||searchTerm===void 0?void 0:searchTerm.toLowerCase());var filterMatches=[];if(filterCourse){filterMatches=(unit===null||unit===void 0?void 0:unit.courseId)===parseInt(filterCourse);}return searchMatches&&filterMatches;});},[units,searchTerm,filterCourse]);return/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",className:classes.mainContainer,children:/*#__PURE__*/_jsxs(Box,{flexGrow:1,bgcolor:\"background.default\",p:3,children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mb:2,sx:{flexDirection:{xs:\"column\",md:\"row\",gap:\"20px\",justifyContent:\"space-between\"},position:\"relative\"},children:[/*#__PURE__*/_jsx(Box,{mr:2,sx:{width:{xs:\"100%\",md:\"400px\"}},children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",placeholder:\"Search unit\",variant:\"outlined\",size:\"small\",fullWidth:true,value:searchTerm,onChange:handleSearchChange,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})},InputLabelProps:{shrink:false}})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setSelectedComponent(\"unit/create\");},variant:\"contained\",color:\"primary\",sx:{right:\"0\",alignSelf:\"flex-end\"},startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Add Unit\"})]}),/*#__PURE__*/_jsx(Box,{display:\"flex\",alignItems:\"center\",justifyContent:\"right\",children:/*#__PURE__*/_jsxs(Stack,{sx:{flexDirection:\"row\",mt:\"25px\",gap:\"20px\",justifyContent:\"center\",alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(Stack,{flexDirection:\"row\",sx:{justifyContent:\"center\",alignItems:\"center\",gap:\"5px\"},children:[/*#__PURE__*/_jsx(FilterAltIcon,{fontSize:\"small\"}),/*#__PURE__*/_jsx(Typography,{sx:{fontSize:\"1.2rem\"},children:\"Filter by\"})]}),/*#__PURE__*/_jsx(CourseFilterDropDown,{filterCourse:filterCourse,setfilterCourse:setfilterCourse,courses:courses})]})}),/*#__PURE__*/_jsx(UnitList,{setSelectedComponent:setSelectedComponent,filteredUnits:filteredUnits}),/*#__PURE__*/_jsx(\"style\",{children:\"@media (max-width: \".concat(theme.breakpoints.values.md,\"px) {\\n            .MuiGrid-item {\\n              flex-basis: calc(100% - 80px);\\n              max-width: calc(100% - 80px);\\n            }\\n          }\")})]})});};export default UnitsComponent;","map":{"version":3,"names":["React","useState","useMemo","makeStyles","useTheme","useSelector","UnitList","CourseFilterDropDown","AddIcon","FilterAltIcon","Box","Button","Container","TextField","InputAdornment","Stack","Typography","SearchIcon","useStyles","theme","mainContainer","paddingTop","spacing","paddingBottom","UnitsComponent","setSelectedComponent","state","units","courses","filterCourse","setfilterCourse","classes","searchTerm","setSearchTerm","handleSearchChange","event","target","value","filteredUnits","length","Array","isArray","filter","unit","searchMatches","title","toLowerCase","includes","filterMatches","courseId","parseInt","flexDirection","xs","md","gap","justifyContent","position","width","endAdornment","shrink","right","alignSelf","mt","alignItems","fontSize","breakpoints","values"],"sources":["/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/src/features/units/components/UnitsComponent.js"],"sourcesContent":["import React, { useState, useMemo } from \"react\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { useSelector } from \"react-redux\";\nimport UnitList from \"./UnitList\";\nimport CourseFilterDropDown from \"../../../features/courses/components/CourseFilterDropDown\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport FilterAltIcon from \"@mui/icons-material/FilterAlt\";\n\nimport {\n  Box,\n  Button,\n  Container,\n  TextField,\n  InputAdornment,\n  Stack,\n  Typography,\n} from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n}));\n\nconst UnitsComponent = ({ setSelectedComponent }) => {\n  const { units } = useSelector((state) => state.units);\n  const { courses } = useSelector((state) => state.courses);\n\n  const [filterCourse, setfilterCourse] = useState(\"\");\n\n  const theme = useTheme();\n\n  const classes = useStyles();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const handleSearchChange = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n  const filteredUnits = useMemo(() => {\n    if (!units || !units?.length || !Array.isArray(units)) return [];\n\n    return units?.filter((unit) => {\n      const searchMatches = unit?.title\n        ?.toLowerCase()\n        ?.includes(searchTerm?.toLowerCase());\n\n      let filterMatches = [];\n\n      if (filterCourse) {\n        filterMatches = unit?.courseId === parseInt(filterCourse);\n      }\n\n      return searchMatches && filterMatches;\n    });\n  }, [units, searchTerm, filterCourse]);\n\n  return (\n    <Container maxWidth=\"lg\" className={classes.mainContainer}>\n      <Box flexGrow={1} bgcolor=\"background.default\" p={3}>\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          mb={2}\n          sx={{\n            flexDirection: {\n              xs: \"column\",\n              md: \"row\",\n              gap: \"20px\",\n              justifyContent: \"space-between\",\n            },\n            position: \"relative\",\n          }}\n        >\n          <Box mr={2} sx={{ width: { xs: \"100%\", md: \"400px\" } }}>\n            <TextField\n              id=\"outlined-basic\"\n              placeholder=\"Search unit\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              value={searchTerm}\n              onChange={handleSearchChange}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchIcon />\n                  </InputAdornment>\n                ),\n              }}\n              InputLabelProps={{\n                shrink: false,\n              }}\n            />\n          </Box>\n          <Button\n            onClick={() => setSelectedComponent(\"unit/create\")}\n            variant=\"contained\"\n            color=\"primary\"\n            sx={{\n              right: \"0\",\n              alignSelf: \"flex-end\",\n            }}\n            startIcon={<AddIcon />}\n          >\n            Add Unit\n          </Button>\n        </Box>\n\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"right\">\n          <Stack\n            sx={{\n              flexDirection: \"row\",\n              mt: \"25px\",\n              gap: \"20px\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n          >\n            <Stack\n              flexDirection=\"row\"\n              sx={{\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                gap: \"5px\",\n              }}\n            >\n              <FilterAltIcon fontSize=\"small\" />\n              <Typography\n                sx={{\n                  fontSize: \"1.2rem\",\n                }}\n              >\n                Filter by\n              </Typography>\n            </Stack>\n\n            <CourseFilterDropDown\n              filterCourse={filterCourse}\n              setfilterCourse={setfilterCourse}\n              courses={courses}\n            />\n          </Stack>\n        </Box>\n\n        <UnitList\n          setSelectedComponent={setSelectedComponent}\n          filteredUnits={filteredUnits}\n        />\n        <style>\n          {`@media (max-width: ${theme.breakpoints.values.md}px) {\n            .MuiGrid-item {\n              flex-basis: calc(100% - 80px);\n              max-width: calc(100% - 80px);\n            }\n          }`}\n        </style>\n      </Box>\n    </Container>\n  );\n};\nexport default UnitsComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}