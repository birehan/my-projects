{"ast":null,"code":"import _slicedToArray from\"/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{Stack,Button,Typography}from\"@mui/material\";import{API_BASE_URL}from\"../../../config\";import{CloudUpload}from\"@mui/icons-material\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function QuestionExtractor(_ref){var setValue=_ref.setValue;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var handleFileUpload=function handleFileUpload(event){setFile(event.target.files[0]);};var handleFileSubmit=function handleFileSubmit(){var formData=new FormData();formData.append(\"file\",file);var transport=axios.create({withCredentials:true});transport.post(\"\".concat(API_BASE_URL,\"/api/extractquestion\"),formData).then(function(response){var _response$data;if(!(response!==null&&response!==void 0&&(_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.length)){setErrors(\"No questions found!\");}else{setErrors(\"\");}setValue(\"questions\",response.data);}).catch(function(error){var _error$response,_error$response$data;setErrors(error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message);});};return/*#__PURE__*/_jsx(Stack,{children:/*#__PURE__*/_jsxs(Stack,{sx:{gap:\"20px\"},children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-input\",style:{backgroundColor:\"#f6f9fa\",padding:\"10px 20px\",borderRadius:\"5px\",cursor:\"pointer\",display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(Typography,{children:[\" \",file&&file!==null&&file!==void 0&&file.name?file===null||file===void 0?void 0:file.name:\"Select File\"]}),/*#__PURE__*/_jsx(CloudUpload,{}),/*#__PURE__*/_jsx(\"input\",{id:\"file-input\",type:\"file\",onChange:handleFileUpload,accept:\".pdf, .docx, .txt\",style:{display:\"none\"}})]}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){console.log(\"hello\",file);if(file){handleFileSubmit();}},sx:{background:\"#0EAFAF\",color:\"white\",fontFamily:\"Montserrat\",fontStyle:\"normal\",fontWeight:700,textTransform:\"capitalize\",\"&:hover\":{background:\"#0EAFAF\",opacity:\"0.8\",color:\"white\"}},children:\"Upload Questions\"}),errors&&/*#__PURE__*/_jsx(Typography,{sx:{color:\"red\"},children:errors})]})});}export default QuestionExtractor;","map":{"version":3,"names":["React","useState","axios","Stack","Button","Typography","API_BASE_URL","CloudUpload","QuestionExtractor","setValue","file","setFile","errors","setErrors","handleFileUpload","event","target","files","handleFileSubmit","formData","FormData","append","transport","create","withCredentials","post","then","response","data","length","catch","error","message","gap","backgroundColor","padding","borderRadius","cursor","display","flexDirection","justifyContent","alignItems","name","console","log","background","color","fontFamily","fontStyle","fontWeight","textTransform","opacity"],"sources":["/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/src/features/questionsets/components/QuestionExtractor.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nimport { Stack, Button, Typography } from \"@mui/material\";\nimport { API_BASE_URL } from \"../../../config\";\n\nimport { CloudUpload } from \"@mui/icons-material\";\n\nfunction QuestionExtractor({ setValue }) {\n  const [file, setFile] = useState(null);\n\n  const [errors, setErrors] = useState(\"\");\n\n  const handleFileUpload = (event) => {\n    setFile(event.target.files[0]);\n  };\n\n  const handleFileSubmit = () => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    const transport = axios.create({\n      withCredentials: true,\n    });\n\n    transport\n      .post(`${API_BASE_URL}/api/extractquestion`, formData)\n      .then((response) => {\n        if (!response?.data?.length) {\n          setErrors(\"No questions found!\");\n        } else {\n          setErrors(\"\");\n        }\n        setValue(\"questions\", response.data);\n      })\n      .catch((error) => {\n        setErrors(error?.response?.data?.message);\n      });\n  };\n\n  return (\n    <Stack>\n      <Stack sx={{ gap: \"20px\" }}>\n        <label\n          htmlFor=\"file-input\"\n          style={{\n            backgroundColor: \"#f6f9fa\",\n            padding: \"10px 20px\",\n            borderRadius: \"5px\",\n            cursor: \"pointer\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}\n        >\n          <Typography>\n            {\" \"}\n            {file && file?.name ? file?.name : \"Select File\"}\n          </Typography>\n          <CloudUpload />\n          <input\n            id=\"file-input\"\n            type=\"file\"\n            onChange={handleFileUpload}\n            accept=\".pdf, .docx, .txt\"\n            style={{ display: \"none\" }}\n          />\n        </label>\n\n        <Button\n          onClick={() => {\n            console.log(\"hello\", file);\n            if (file) {\n              handleFileSubmit();\n            }\n          }}\n          sx={{\n            background: \"#0EAFAF\",\n            color: \"white\",\n            fontFamily: \"Montserrat\",\n            fontStyle: \"normal\",\n            fontWeight: 700,\n            textTransform: \"capitalize\",\n            \"&:hover\": {\n              background: \"#0EAFAF\",\n              opacity: \"0.8\",\n              color: \"white\",\n            },\n          }}\n        >\n          Upload Questions\n        </Button>\n\n        {errors && <Typography sx={{ color: \"red\" }}>{errors}</Typography>}\n      </Stack>\n    </Stack>\n  );\n}\n\nexport default QuestionExtractor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}