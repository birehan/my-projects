{"ast":null,"code":"import _regeneratorRuntime from\"/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{API_BASE_URL}from\"../../../config\";axios.defaults.withCredentials=true;export var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user){var _yield$axios$post,data,_error$response,_error$response$data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(API_BASE_URL,\"/api/login\"),user);case 3:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(!_context.t0.response){_context.next=12;break;}throw new Error(_context.t0===null||_context.t0===void 0?void 0:(_error$response=_context.t0.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function login(_x){return _ref.apply(this,arguments);};}();export var logout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _yield$axios$delete,data,_error$response2,_error$response2$data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"\".concat(API_BASE_URL,\"/api/logout\"));case 3:_yield$axios$delete=_context2.sent;data=_yield$axios$delete.data;return _context2.abrupt(\"return\",data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);if(!_context2.t0.response){_context2.next=12;break;}throw new Error(_context2.t0===null||_context2.t0===void 0?void 0:(_error$response2=_context2.t0.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message);case 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function logout(){return _ref2.apply(this,arguments);};}();export var getUsers=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _yield$axios$get,data,_error$response3,_error$response3$data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(API_BASE_URL+\"/api/adminUsers\");case 3:_yield$axios$get=_context3.sent;data=_yield$axios$get.data;return _context3.abrupt(\"return\",data);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);throw new Error((_context3.t0===null||_context3.t0===void 0?void 0:(_error$response3=_context3.t0.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||(_context3.t0===null||_context3.t0===void 0?void 0:_context3.t0.message));case 11:case\"end\":return _context3.stop();}},_callee3,null,[[0,8]]);}));return function getUsers(){return _ref3.apply(this,arguments);};}();export var createUser=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(user){var _yield$axios$post2,data,_error$response4,_error$response4$data,message;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.post(API_BASE_URL+\"/api/adminUsers\",user);case 3:_yield$axios$post2=_context4.sent;data=_yield$axios$post2.data;return _context4.abrupt(\"return\",data);case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);message=_context4.t0===null||_context4.t0===void 0?void 0:(_error$response4=_context4.t0.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message;if(!(message===\"email must be unique\")){_context4.next=15;break;}throw new Error(\"Email address already in use!\");case 15:throw new Error(message||(_context4.t0===null||_context4.t0===void 0?void 0:_context4.t0.message));case 16:case\"end\":return _context4.stop();}},_callee4,null,[[0,8]]);}));return function createUser(_x2){return _ref4.apply(this,arguments);};}();export var updateUser=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(user){var _yield$axios$patch,data,_error$response5,_error$response5$data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.patch(\"\".concat(API_BASE_URL,\"/api/adminUsers/\").concat(user===null||user===void 0?void 0:user.id),user);case 3:_yield$axios$patch=_context5.sent;data=_yield$axios$patch.data;return _context5.abrupt(\"return\",data);case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](0);throw new Error((_context5.t0===null||_context5.t0===void 0?void 0:(_error$response5=_context5.t0.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||(_context5.t0===null||_context5.t0===void 0?void 0:_context5.t0.message));case 11:case\"end\":return _context5.stop();}},_callee5,null,[[0,8]]);}));return function updateUser(_x3){return _ref5.apply(this,arguments);};}();export var updateProfile=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(user){var _yield$axios$patch2,data,_error$response6,_error$response6$data;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.patch(\"\".concat(API_BASE_URL,\"/api/users/\").concat(user===null||user===void 0?void 0:user.id),user);case 3:_yield$axios$patch2=_context6.sent;data=_yield$axios$patch2.data;return _context6.abrupt(\"return\",data);case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);throw new Error((_context6.t0===null||_context6.t0===void 0?void 0:(_error$response6=_context6.t0.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||(_context6.t0===null||_context6.t0===void 0?void 0:_context6.t0.message));case 11:case\"end\":return _context6.stop();}},_callee6,null,[[0,8]]);}));return function updateProfile(_x4){return _ref6.apply(this,arguments);};}();export var deleteUser=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(id){var _error$response7,_error$response7$data;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return axios.delete(\"\".concat(API_BASE_URL,\"/api/adminUsers/\").concat(id,\"/\"));case 3:return _context7.abrupt(\"return\",id);case 6:_context7.prev=6;_context7.t0=_context7[\"catch\"](0);throw new Error((_context7.t0===null||_context7.t0===void 0?void 0:(_error$response7=_context7.t0.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.message)||(_context7.t0===null||_context7.t0===void 0?void 0:_context7.t0.message));case 9:case\"end\":return _context7.stop();}},_callee7,null,[[0,6]]);}));return function deleteUser(_x5){return _ref7.apply(this,arguments);};}();","map":{"version":3,"names":["axios","API_BASE_URL","defaults","withCredentials","login","user","post","data","response","Error","message","logout","delete","getUsers","get","createUser","updateUser","patch","id","updateProfile","deleteUser"],"sources":["/home/babi/Desktop/Medical-Question-Bank/Medical-Question-Bank-Website/admin/src/features/authentication/api/index.js"],"sourcesContent":["import axios from \"axios\";\nimport { API_BASE_URL } from \"../../../config\";\n\naxios.defaults.withCredentials = true;\n\nexport const login = async (user) => {\n  try {\n    const { data } = await axios.post(`${API_BASE_URL}/api/login`, user);\n    return data;\n  } catch (error) {\n    if (error.response) {\n      throw new Error(error?.response?.data?.message);\n    }\n  }\n};\n\nexport const logout = async () => {\n  try {\n    const { data } = await axios.delete(`${API_BASE_URL}/api/logout`);\n    return data;\n  } catch (error) {\n    if (error.response) {\n      throw new Error(error?.response?.data?.message);\n    }\n  }\n};\nexport const getUsers = async () => {\n  try {\n    const { data } = await axios.get(API_BASE_URL + \"/api/adminUsers\");\n    return data;\n  } catch (error) {\n    throw new Error(error?.response?.data?.message || error?.message);\n  }\n};\nexport const createUser = async (user) => {\n  try {\n    const { data } = await axios.post(API_BASE_URL + \"/api/adminUsers\", user);\n    return data;\n  } catch (error) {\n    const message = error?.response?.data?.message;\n    if (message === \"email must be unique\") {\n      throw new Error(\"Email address already in use!\");\n    } else {\n      throw new Error(message || error?.message);\n    }\n  }\n};\n\nexport const updateUser = async (user) => {\n  try {\n    const { data } = await axios.patch(\n      `${API_BASE_URL}/api/adminUsers/${user?.id}`,\n      user\n    );\n    return data;\n  } catch (error) {\n    throw new Error(error?.response?.data?.message || error?.message);\n  }\n};\n\nexport const updateProfile = async (user) => {\n  try {\n    const { data } = await axios.patch(\n      `${API_BASE_URL}/api/users/${user?.id}`,\n      user\n    );\n    return data;\n  } catch (error) {\n    throw new Error(error?.response?.data?.message || error?.message);\n  }\n};\n\nexport const deleteUser = async (id) => {\n  try {\n    await axios.delete(`${API_BASE_URL}/api/adminUsers/${id}/`);\n    return id;\n  } catch (error) {\n    throw new Error(error?.response?.data?.message || error?.message);\n  }\n};\n"],"mappings":"oVAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,YAAY,KAAQ,iBAAiB,CAE9CD,KAAK,CAACE,QAAQ,CAACC,eAAe,CAAG,IAAI,CAErC,MAAO,IAAMC,MAAK,4FAAG,iBAAOC,IAAI,yNAELL,MAAK,CAACM,IAAI,WAAIL,YAAY,eAAcI,IAAI,CAAC,wCAA5DE,IAAI,mBAAJA,IAAI,iCACLA,IAAI,8DAEP,YAAMC,QAAQ,+BACV,IAAIC,MAAK,kEAAC,YAAOD,QAAQ,gEAAf,gBAAiBD,IAAI,+CAArB,qBAAuBG,OAAO,CAAC,oEAGpD,kBATYN,MAAK,4CASjB,CAED,MAAO,IAAMO,OAAM,6FAAG,qPAEKX,MAAK,CAACY,MAAM,WAAIX,YAAY,gBAAc,2CAAzDM,IAAI,qBAAJA,IAAI,kCACLA,IAAI,iEAEP,aAAMC,QAAQ,gCACV,IAAIC,MAAK,qEAAC,aAAOD,QAAQ,kEAAf,iBAAiBD,IAAI,gDAArB,sBAAuBG,OAAO,CAAC,sEAGpD,kBATYC,OAAM,2CASlB,CACD,MAAO,IAAME,SAAQ,6FAAG,kPAEGb,MAAK,CAACc,GAAG,CAACb,YAAY,CAAG,iBAAiB,CAAC,wCAA1DM,IAAI,kBAAJA,IAAI,kCACLA,IAAI,kEAEL,IAAIE,MAAK,CAAC,kFAAOD,QAAQ,kEAAf,iBAAiBD,IAAI,gDAArB,sBAAuBG,OAAO,sDAAI,aAAOA,OAAO,EAAC,sEAEpE,kBAPYG,SAAQ,2CAOpB,CACD,MAAO,IAAME,WAAU,6FAAG,kBAAOV,IAAI,0OAEVL,MAAK,CAACM,IAAI,CAACL,YAAY,CAAG,iBAAiB,CAAEI,IAAI,CAAC,0CAAjEE,IAAI,oBAAJA,IAAI,kCACLA,IAAI,6DAELG,OAAO,qEAAG,aAAOF,QAAQ,kEAAf,iBAAiBD,IAAI,gDAArB,sBAAuBG,OAAO,MAC1CA,OAAO,GAAK,sBAAsB,iCAC9B,IAAID,MAAK,CAAC,+BAA+B,CAAC,cAE1C,IAAIA,MAAK,CAACC,OAAO,qDAAI,aAAOA,OAAO,EAAC,sEAG/C,kBAZYK,WAAU,8CAYtB,CAED,MAAO,IAAMC,WAAU,6FAAG,kBAAOX,IAAI,kOAEVL,MAAK,CAACiB,KAAK,WAC7BhB,YAAY,4BAAmBI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEa,EAAE,EAC1Cb,IAAI,CACL,0CAHOE,IAAI,oBAAJA,IAAI,kCAILA,IAAI,kEAEL,IAAIE,MAAK,CAAC,kFAAOD,QAAQ,kEAAf,iBAAiBD,IAAI,gDAArB,sBAAuBG,OAAO,sDAAI,aAAOA,OAAO,EAAC,sEAEpE,kBAVYM,WAAU,8CAUtB,CAED,MAAO,IAAMG,cAAa,6FAAG,kBAAOd,IAAI,mOAEbL,MAAK,CAACiB,KAAK,WAC7BhB,YAAY,uBAAcI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEa,EAAE,EACrCb,IAAI,CACL,2CAHOE,IAAI,qBAAJA,IAAI,kCAILA,IAAI,kEAEL,IAAIE,MAAK,CAAC,kFAAOD,QAAQ,kEAAf,iBAAiBD,IAAI,gDAArB,sBAAuBG,OAAO,sDAAI,aAAOA,OAAO,EAAC,sEAEpE,kBAVYS,cAAa,8CAUzB,CAED,MAAO,IAAMC,WAAU,6FAAG,kBAAOF,EAAE,0MAEzBlB,MAAK,CAACY,MAAM,WAAIX,YAAY,4BAAmBiB,EAAE,MAAI,yCACpDA,EAAE,kEAEH,IAAIT,MAAK,CAAC,kFAAOD,QAAQ,kEAAf,iBAAiBD,IAAI,gDAArB,sBAAuBG,OAAO,sDAAI,aAAOA,OAAO,EAAC,qEAEpE,kBAPYU,WAAU,8CAOtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}